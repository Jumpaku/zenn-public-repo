---
title: "「非同期処理」の結論"
---

「非同期処理、同期処理、非同期 API、並列処理、平行処理、逐次処理」この辺りの言葉や概念は非常に紛らわしいですが、「非同期処理の全体の仕組み」を理解する上では**全部使います**。全部使うというのは、言葉のまま、全部のタイプの処理が組み合わされることで大きくくくられる「非同期処理」の仕組みが実現されるということです。

非同期処理はコード内の配置順番からタイミングをずらされてメインスレッドで実行される関数であり、コールスタックに積まれる関数実行コンテキストです。イベントループとタスクキュー・マイクロタスクキューによって、コードのタイミングをずらすことができるようになっています。つまり、処理は一定の単位(タスクとマイクロタスク)ごとに切り替えることができるようになっていますので、平行(concurrent)処理であると言えます(理解の上で妨げになるなら平行処理は無視してもらっても大丈夫です)。

イベントループによって処理を切り替えることのできるおかげで、平行処理ができていますが、この平行処理は結果的に、ソースコードの配置順番に実行されないため、タイミングがずれることになります。結果的に「非同期」に実行される訳です。つまり、非同期処理は平行処理に、平行処理は非同期処理になるという訳です。卵が先か鶏が先かみたいになりますが、非同期処理はタイミングがずれて実行されるので、結局は平行になります。

「非同期処理」としてくくられる JavaScript の学習範囲は実際には以下のものが含まれています(基本的に隠蔽されています)。

- 環境が提供する非同期 API による並列的作業
- ECMAScript のコールバック関数
- コールスタックと実行コンテキスト
- 逐次処理

